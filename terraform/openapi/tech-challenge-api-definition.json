{
    "openapi": "3.0.1",
    "info": {
        "title": "Tech Challenge FIAP API",
        "description": "API Rest for Tech Challenge FIAP",
        "version": "v1"
    },
    "paths": {
        "/customer/api/create": {
            "post": {
                "tags": [
                    "CreateCustomer"
                ],
                "summary": "Create a new customer",
                "operationId": "newCustomer",
                "responses": {
                    "400": {
                        "description": "Bad Request Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "500": {
                        "description": "Internal Server Error Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "409": {
                        "description": "Conflict Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "204": {
                        "description": "No Content Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "404": {
                        "description": "Not Found Response",
                        "content": {
                            "application/json": {}
                        }
                    }
                },
                "security": [],
                "x-amazon-apigateway-integration": {
                    "type": "http_proxy",
                    "httpMethod": "POST",
                    "uri": "http://${lb_dns_name}/order-api/customer/api/create",
                    "connectionType": "VPC_LINK",
                    "connectionId": "${vpc_link_id}",
                    "responses": {
                        "default": {
                            "statusCode": "200"
                        }
                    }
                }
            }
        },
        "/customer/api/{documentId}": {
            "get": {
                "tags": [
                    "GetCustomer"
                ],
                "summary": "Find a Customer By DocumentId",
                "operationId": "getCustomerByDocumentId",
                "parameters": [
                    {
                        "name": "documentId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Ok Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "500": {
                        "description": "Internal Server Error Response",
                        "content": {
                            "application/json": {}
                        }
                    },
                    "404": {
                        "description": "Not Found Response",
                        "content": {
                            "application/json": {}
                        }
                    }
                },
                "security": [],
                "x-amazon-apigateway-integration": {
                    "type": "http_proxy",
                    "httpMethod": "GET",
                    "uri": "http://${lb_dns_name}/order-api/customer/api/{documentId}",
                    "connectionType": "VPC_LINK",
                    "connectionId": "${vpc_link_id}",
                    "requestParameters": {
                        "integration.request.path.documentId": "method.request.path.documentId"
                    },
                    "responses": {
                        "default": {
                            "statusCode": "200"
                        }
                    }
                }
            }
        }
    },
    "x-amazon-apigateway-gateway-responses": {
        "MISSING_AUTHENTICATION_TOKEN": {
            "statusCode": 404,
            "responseTemplates": {
                "application/json": "{\"message\": \"Route not found.\"}"
            }
        },
        "UNAUTHORIZED": {
            "statusCode": 401,
            "responseTemplates": {
                "application/json": "{\"message\": \"Unauthorized access.\"}"
            }
        },
        "DEFAULT_4XX": {
            "statusCode": 403,
            "responseTemplates": {
                "application/json": "{\"message\": \"Forbidden.\"}"
            }
        },
        "DEFAULT_5XX": {
            "statusCode": 500,
            "responseTemplates": {
                "application/json": "{\"message\": \"Internal server error.\"}"
            }
        }
    },
    "components": {
        "schemas": {
            "CustomerRequestDTO": {
                "required": [
                    "documentId",
                    "email",
                    "name"
                ],
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Nameperson"
                    },
                    "documentId": {
                        "type": "string",
                        "example": "13454689105"
                    },
                    "email": {
                        "type": "string",
                        "example": "nameperson@email.com"
                    }
                }
            }
        }
    }
}